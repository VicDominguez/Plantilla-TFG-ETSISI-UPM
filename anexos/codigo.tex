\documentclass[../main.tex]{subfiles}

\begin{document}
En este ejemplo se usa el paquete minted para cargar en una sola instrucción el código de un fichero
\subsection{hello\textunderscore world.py}
\inputminted[fontsize=\footnotesize]{python}{./codigo/hello_world.py}
\end{document}